# å¯¹è‡ªå¢/å‡æ“ä½œçš„é”™è¯¯ç†è§£çº æ­£

ä»Šå¤©åš Leetcode çš„æ¯æ—¥ä¸€é¢˜[2129. å°†æ ‡é¢˜é¦–å­—æ¯å¤§å†™](https://leetcode.cn/problems/capitalize-the-title/)æ—¶ï¼Œä½¿ç”¨ ++ æ“ä½œç¬¦ä½†æ˜¯æ²¡æœ‰å¾—åˆ°é¢„æœŸç»“æœï¼Œç„¶æˆ‘æ„Ÿåˆ°éå¸¸å›°æƒ‘ï¼Œåœ¨æ­¤è®°å½•è§£ç–‘è¿‡ç¨‹ã€‚

å¾ˆç®€å•çš„ä¸€é“é¢˜ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ã€‚

```java
class Solution {
    public String capitalizeTitle(String title) {
        char[] chars = title.toCharArray();
        int n = chars.length;
        int pre = 0, cur = 0;
        while(cur < n) {
            while(cur < n && chars[cur] != ' ') {
                chars[cur++] = getLowerCaseChar(chars[cur]);
            }
            if (cur - pre > 2) {
                chars[pre] = getUpperCaseChar(chars[pre]);
            }
            pre = ++cur;
        }
        return new String(chars);
    }

    private char getLowerCaseChar(char c) {
        if (c >= 'A' && c <= 'Z') {
            return (char) (c - 'A' + 'a');
        }
        return c;
    }

    private char getUpperCaseChar(char c) {
        if (c >= 'a' && c <= 'z') {
            return (char) (c - 'a' + 'A');
        }
        return c;
    }
}
```

ä¸»è¦æ˜¯ç¬¬ 8 è¡Œçš„ä»£ç  `chars[cur++] = getLowerCaseChar(chars[cur]);`ã€‚

æœ€å¼€å§‹çš„å†™æ³•å¦‚ä¸‹ï¼š

```java
chars[cur] = getLowerCaseChar(chars[cur]);
cur++;
```

ç›®çš„æ˜¯å°† cur åœ¨ chars ä¸­æ‰€æŒ‡çš„å­—ç¬¦ä¿®æ”¹ä¸ºå°å†™ï¼Œç„¶å cur + 1ã€‚

æƒ³çœæ‰ä¸€è¡Œï¼Œå°±å†™æˆäº† `chars[cur++] = getLowerCaseChar(chars[cur]);` ï¼Œåœ¨æˆ‘ä¹‹å‰çš„ç†è§£ä¸­**ä»¥ä¸º ++ æ“ä½œç¬¦çš„å‰åç¼€åŒºåˆ«æ˜¯åœ¨ä¸€æ•´ä¸ªè¡¨è¾¾å¼ï¼ˆç¡®åˆ‡åœ°è¯´æ˜¯ä¸€æ¡è¯­å¥ï¼‰æ‰§è¡Œä¹‹å‰ + 1å’Œæ‰§è¡Œä¹‹å + 1 çš„åŒºåˆ«ï¼ˆé”™è¯¯çš„ç†è§£ï¼‰**ï¼Œä½†æ˜¯è¿™æ ·çš„å†™æ³•ç­‰åŒäºä¸‹é¢çš„å†™æ³•ï¼Œ

```java
int t = cur;
int cur = cur + 1;
chars[t] = getLowerCaseChar(chars[cur]);
```

è¿™è®©æˆ‘å›°æƒ‘ä¸å·²ï¼Œä½†æ˜¯ `chars[cur] = getLowerCaseChar(chars[cur++]);` åˆæ˜¯æ­£ç¡®çš„ï¼Œå¦‚æœç…§æˆ‘ä¹‹å‰çš„ç†è§£è¿™ä¸¤ä¸ªåº”è¯¥æ²¡åŒºåˆ« ğŸ¥²ã€‚

## class æ–‡ä»¶

æ¥ä¸‹æ¥å°±é€šè¿‡ javap çœ‹ class æ–‡ä»¶çœ‹å…·ä½“çš„æ‰§è¡Œæ–‡ä»¶ä¸­çš„æŒ‡ä»¤æ˜¯æ€ä¹ˆçš„ã€‚

åœ¨ç¼–è¯‘çš„ class æ–‡ä»¶ç›®å½•æ‰§è¡Œ `javap -v Solution`ï¼Œç»“æœå¦‚ä¸‹ï¼ˆåªä¿ç•™  `chars[cur++] = getLowerCaseChar(chars[cur]);`  å¯¹åº”çš„å…³é”®éƒ¨åˆ†ï¼‰ï¼š

```
......
  public java.lang.String capitalizeTitle(java.lang.String);
    descriptor: (Ljava/lang/String;)Ljava/lang/String;
    flags: ACC_PUBLIC
    Code:
      stack=5, locals=6, args_size=2
        ......
        35: aload_2
        36: iload         5
        38: iinc          5, 1
        41: aload_0
        42: aload_2
        43: iload         5
        45: caload
        46: invokespecial #3                  // Method getLowerCaseChar:(C)C
        49: castore
        ......
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0      93     0  this   LSolution;
            0      93     1 title   Ljava/lang/String;
            5      88     2 chars   [C
            8      85     3     n   I
           11      82     4   pre   I
           14      79     5   cur   I
......
```

é€šè¿‡æŒ‡ä»¤å¯ä»¥å‘ç°åœ¨è°ƒç”¨å‡½æ•°ä¹‹å‰ï¼Œcur å°±å®Œæˆäº† + 1ï¼Œæ‰€ä»¥æ•°ç»„ä¸­åŸæœ¬åœ¨ cur + 1 ä½ç½®çš„ç»“æœä¼šèµ‹ç»™äº† curã€‚

ç»“åˆæ“ä½œæ•°æ ˆè¿›è¡Œç†è§£ï¼š

```
// å‡è®¾æ­¤æ—¶ cur ä¸º 1
åˆå§‹çŠ¶æ€:
å½“å‰æ“ä½œæ•°æ ˆ:  []

æŒ‡ä»¤ 35: aload_2 (åŠ è½½å­—ç¬¦æ•°ç»„ chars)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars]

æŒ‡ä»¤ 36: iload 5 (åŠ è½½ cur)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars, 1]

æŒ‡ä»¤ 38: iinc 5, 1 (å±€éƒ¨å˜é‡ cur + 1ï¼Œå±€éƒ¨å˜é‡è¡¨ä¸­ cur ä¸º 2)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars, 1]

æŒ‡ä»¤ 41: aload_0 (åŠ è½½å½“å‰å¯¹è±¡ this)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars, 1, this]

æŒ‡ä»¤ 42: aload_2 (åŠ è½½å­—ç¬¦æ•°ç»„ chars)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars, 1, this, chars]

æŒ‡ä»¤ 43: iload 5 (åŠ è½½ cur)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars, 1, this, chars, 2]

æŒ‡ä»¤ 45: caload (åŠ è½½å­—ç¬¦æ•°ç»„ä¸­å½“å‰ç´¢å¼•æ‰€æŒ‡ä¸­çš„å­—ç¬¦)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars, 1, this, currentChar]

æŒ‡ä»¤ 46: invokespecial (è°ƒç”¨getLowerCaseCharæ–¹æ³•)
å½“å‰æ“ä½œæ•°æ ˆ:  [chars, 1, lowerCaseChar]

æŒ‡ä»¤ 49: castore (å°†å€¼å­˜å›æ•°ç»„ä¸­)
å½“å‰æ“ä½œæ•°æ ˆ:  []
```

è€Œ `chars[cur] = getLowerCaseChar(chars[cur++]);` å¯¹åº”çš„æŒ‡ä»¤ä¸ºï¼Œ

```
35: aload_2
36: iload         5
38: aload_0
39: aload_2
40: iload         5
42: iinc          5, 1
45: caload
46: invokespecial #3                  // Method getLowerCaseChar:(C)C
49: castore
```

ç”±æ­¤å¯çŸ¥åŸå› ã€‚

## æ€»ç»“

è®¤ä¸º ++ æ“ä½œç¬¦çš„å‰åç¼€åŒºåˆ«æ˜¯ä¸€æ¡è¯­å¥æ‰§è¡Œä¹‹å‰ + 1å’Œæ‰§è¡Œä¹‹å + 1 çš„åŒºåˆ«ï¼Œæ˜¯å®Œå…¨é”™è¯¯çš„ã€‚æ²¡æœ‰åˆ†æ¸…æ¥šè¡¨è¾¾å¼å’Œè¯­å¥çš„å…³ç³»ã€‚å› ä¸ºå¹³æ—¶å¯¹äº ++ çš„è¿ç”¨éƒ½æ˜¯å•ç‹¬ä¸€æ¡è¯­å¥ï¼Œæˆ–è€…ç®€å•çš„èµ‹å€¼ä¾‹å¦‚ `array[i++] = 1;`  æ‰€ä»¥è¿™æ ·ç†è§£ä¹Ÿä¸ä¼šå‡ºç°é”™è¯¯ï¼Œè§‰å¯Ÿä¸å‡ºé—®é¢˜ã€‚

++ æ“ä½œç¬¦çš„å‰åç¼€åŒºåˆ«åº”è¯¥æ˜¯åœ¨è¯»å–å˜é‡ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œ + 1 çš„åŒºåˆ«ã€‚